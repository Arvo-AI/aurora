# =============================================================================
# Aurora Environment Variables
# =============================================================================
# Copy this file to .env and fill in the values.
# 
# QUICK START (local development):
#   make init  # Auto-generates secrets
#   Add OPENROUTER_API_KEY (get from https://openrouter.ai/keys)
#   make prod-prebuilt   # or: make prod-local to build from source
# =============================================================================

# -----------------------------------------------------------------------------
# Core Configuration
# -----------------------------------------------------------------------------
AURORA_ENV=dev

# Demo Mode: Set to true to auto-load pre-indexed incident data on startup
# When enabled, the demo-init service will restore a complete RCA demonstration
# including investigation thoughts, citations, and actionable suggestions.
DEMO_MODE=false

# -----------------------------------------------------------------------------
# Database [REQUIRED]
# -----------------------------------------------------------------------------
POSTGRES_USER=aurora
POSTGRES_PASSWORD=
POSTGRES_DB=aurora_db
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------
REDIS_URL=redis://redis:6379/0

# -----------------------------------------------------------------------------
# Object Storage (S3-compatible)
# -----------------------------------------------------------------------------
# Default: SeaweedFS (included in docker-compose)
# Production: AWS S3, Cloudflare R2, MinIO, etc.
STORAGE_BUCKET=aurora-storage
STORAGE_ENDPOINT_URL=http://seaweedfs-filer:8333
STORAGE_ACCESS_KEY=admin
STORAGE_SECRET_KEY=admin
STORAGE_REGION=us-east-1
STORAGE_USE_SSL=false
STORAGE_VERIFY_SSL=false
STORAGE_CACHE_ENABLED=true
STORAGE_CACHE_TTL=60

# -----------------------------------------------------------------------------
# URLs & Networking
# -----------------------------------------------------------------------------
# These NEXT_PUBLIC_* vars are injected at container startup (not baked at build).
# Change them in .env and recreate the frontend container to take effect:
#   docker compose -f docker-compose.prod-local.yml up -d frontend
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://aurora-server:5080
NEXT_PUBLIC_BACKEND_URL=http://localhost:5080
NEXT_PUBLIC_WEBSOCKET_URL=ws://localhost:5006
CHATBOT_INTERNAL_URL=http://chatbot:5007

# -----------------------------------------------------------------------------
# Authentication & Security [REQUIRED]
# -----------------------------------------------------------------------------
# Auto-generated by: make init
FLASK_SECRET_KEY=
FLASK_PORT=5080
AUTH_SECRET=
VAULT_TOKEN=
VAULT_ADDR=http://vault:8200
VAULT_KV_MOUNT=aurora
VAULT_KV_BASE_PATH=users

# -----------------------------------------------------------------------------
# LLM & AI Services [REQUIRED]
# -----------------------------------------------------------------------------
# At least one API key required. OpenRouter recommended (supports multiple models).
OPENROUTER_API_KEY=
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
GOOGLE_AI_API_KEY=
LLM_PROVIDER_MODE=openrouter
AGENT_RECURSION_LIMIT=240

# Web Search
SEARXNG_URL=http://searxng:8080
SEARXNG_BASE_URL=http://localhost:8082
SEARXNG_SECRET=

# AI Features
RCA_OPTIMIZE_COSTS=false
GEMINI_DISABLE_THINKING=

# -----------------------------------------------------------------------------
# Cloud Provider Integrations (Optional)
# -----------------------------------------------------------------------------

# GCP
CLIENT_ID=
CLIENT_SECRET=

# --- AWS ---
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1

# Cloud Provider Cache (applies to all providers)
AURORA_SETUP_CACHE_ENABLED=true
AURORA_SETUP_CACHE_TTL=3600
AURORA_VERIFY_CLI_IDENTITY=false
AURORA_CACHE_TOKEN_IN_REDIS=false

# -----------------------------------------------------------------------------
# Third-Party Integrations (Optional)
# -----------------------------------------------------------------------------

# GitHub OAuth
GH_OAUTH_CLIENT_ID=
GH_OAUTH_CLIENT_SECRET=

# Slack
NEXT_PUBLIC_ENABLE_SLACK=false
SLACK_CLIENT_ID=
SLACK_CLIENT_SECRET=
SLACK_SIGNING_SECRET=

# PagerDuty
NEXT_PUBLIC_ENABLE_PAGERDUTY_OAUTH=false
PAGERDUTY_CLIENT_ID=
PAGERDUTY_CLIENT_SECRET=

# Bitbucket
NEXT_PUBLIC_ENABLE_BITBUCKET=false
BB_OAUTH_CLIENT_ID=
BB_OAUTH_CLIENT_SECRET=

# OVH (multiple regions)
NEXT_PUBLIC_ENABLE_OVH=false

# Scaleway
NEXT_PUBLIC_ENABLE_SCALEWAY=false

# Confluence
NEXT_PUBLIC_ENABLE_CONFLUENCE=false
CONFLUENCE_CLIENT_ID=
CONFLUENCE_CLIENT_SECRET=

# Dynatrace
NEXT_PUBLIC_ENABLE_DYNATRACE=false

# BigPanda
NEXT_PUBLIC_ENABLE_BIGPANDA=false

# ThousandEyes
NEXT_PUBLIC_ENABLE_THOUSANDEYES=false

OVH_EU_CLIENT_ID=
OVH_EU_CLIENT_SECRET=
OVH_CA_CLIENT_ID=
OVH_CA_CLIENT_SECRET=
OVH_US_CLIENT_ID=
OVH_US_CLIENT_SECRET=

# Email (SMTP)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=
SMTP_FROM_NAME=Aurora

# -----------------------------------------------------------------------------
# Kubernetes & Pod Isolation
# -----------------------------------------------------------------------------
ENABLE_POD_ISOLATION=false
TERMINAL_NAMESPACE=
TERMINAL_IMAGE=
TERMINAL_POD_TTL=
TERMINAL_RUNTIME_CLASS=
CHATBOT_POD_TTL=
USE_UNTRUSTED_NODES=
NEXT_PUBLIC_KUBECTL_AGENT_CHART_URL=

# -----------------------------------------------------------------------------
# Weaviate (Vector Database)
# -----------------------------------------------------------------------------
WEAVIATE_HOST=weaviate
WEAVIATE_PORT=8080
WEAVIATE_GRPC_PORT=50051

# -----------------------------------------------------------------------------
# Memgraph (Graph Database)
# -----------------------------------------------------------------------------
MEMGRAPH_HOST=memgraph
MEMGRAPH_PORT=7687
MEMGRAPH_USER=aurora
MEMGRAPH_PASSWORD=CHANGE_ME
DISCOVERY_INTERVAL_HOURS=1

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMITING_ENABLED=false
RATE_LIMIT_BYPASS_TOKEN=
RATE_LIMIT_HEADERS_ENABLED=true

# -----------------------------------------------------------------------------
# Development
# -----------------------------------------------------------------------------
NGROK_URL=
